:host {
	display: inline-block;

	/* Base */
	.eq-m2o {
		display: flex;
		flex-direction: row;
		align-items: baseline;
		height: 100%;
		box-sizing: border-box;
		width: 100%;
		padding-right: 80px;

		&.focused {
			padding-right: 0;
		}

		&.view {
			width: 100%;
			padding-bottom: 1.34375em;
			box-sizing: content-box;
		}

		.eq-m2o-select-overlay {
			transform: translateY(30px);
		}


		.text {
			position: relative;
			display: block;
			width: 100%;
			height: 100%;
			min-height: 100%;

			span {
				position: relative;
				left: 12px;
			}

			div.hint {
				position: absolute;
				bottom: 4px;
				left: 12px;
				width: 100%;
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
				line-height: 1.125;
			}

			&.is_null {
				span {
					font-style: italic;
				}
			}
		}

		mat-form-field {
			width: 100%;

			&.disabled {
				width: 100%;
			}

			input {
				&.is_null {
					font-style: italic;
				}
			}

			button.suffix-action {
				&.hidden {
					visibility: hidden;
				}
			}
		}

		::ng-deep .mat-form-field-wrapper {
			.mat-form-field-subscript-wrapper {
				top: calc(100% - 26px);
			}
		}
	}


	/* hack to prevent default width of 180px */
	::ng-deep .mat-form-field-flex > .mat-form-field-infix {
		width: 100% !important;
	}

	::ng-deep .mat-autocomplete-panel::-webkit-scrollbar {
		width: 6px;
		overflow-y: scroll;
		background: transparent;
	}

	::ng-deep .mat-autocomplete-panel::-webkit-scrollbar-thumb {
		background: var(--mdc-theme-primary, #6200ee);
		border-radius: 10px;
	}

	/* Only sizes */
	.eq-m2o {
		.text {
			div.hint {
				font-size: 75%;
			}
		}

		&.small {
			&.view {
				height: 48px;
				max-height: 48px;

				.text * {
					font-size: 85%;
				}
			}


			mat-form-field::ng-deep {
				input {
					font-size: 85%;
				}

				.mat-form-field-wrapper {
					.mat-form-field-flex {
						height: 48px;
						max-height: 48px;
					}
				}
			}
		}

		&.normal {
			.text span {
			}

			&.view {
				height: 56px;
				max-height: 56px;
			}
		}

		&.large {
			.text span,
			mat-form-field input {
				font-size: 125%;
			}

			&.view {
				height: 64px;
				max-height: 64px;
			}
		}

		&.extra {
			.text span,
			mat-form-field input {
				font-size: 150%;
			}

			&.view {
				height: 74px;
				max-height: 74px;
			}
		}
	}

	/* Appearance */
	/* Filled */
	.eq-m2o.edit.fill {
		mat-form-field {
			&::ng-deep {
				.mat-form-field-wrapper {
					.mat-form-field-flex {
						.mat-form-field-infix {
							.mat-form-field-label-wrapper {
								overflow: visible;
							}
						}
					}
				}
			}
		}
	}

	/* Outlined */
	.eq-m2o.edit.outline {
		mat-form-field::ng-deep {
			.mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix .mat-form-field-label-wrapper {
				overflow: visible;
			}
		}
	}

	/* Appearance and size */
	/* Filled */
	.eq-m2o.edit.fill {
		&.small {
			.action {
				top: -8px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 48px;
							max-height: 48px;

							.mat-form-field-infix {
								input {
									position: relative;
									top: -8px;
								}

								.mat-form-field-label-wrapper {
									label {
										top: 11px;
									}
								}
							}
						}
					}
				}
			}
		}

		&.normal {
			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 56px;
							max-height: 56px;

							.mat-form-field-suffix {
								position: relative;
								top: 7px;
							}

							.mat-form-field-infix {

								.mat-form-field-label-wrapper {
									label {
										top: 17px;
									}
								}
							}
						}
					}
				}
			}
		}

		&.large {
			.action {
				top: -4px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 64px;
							max-height: 64px;

							.mat-form-field-suffix {
								position: relative;
								top: 5px;
							}

							.mat-form-field-infix {
								input {
									position: relative;

								}

								.mat-form-field-label-wrapper {
									label {
										top: 21px;
									}
								}
							}
						}
					}
				}
			}

			::ng-deep .mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
				transform: translateY(-17px) scale(0.75);
			}
		}

		&.extra {
			.action {
				top: -4px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 74px;
							max-height: 74px;

							.mat-form-field-suffix {
								position: relative;
								top: 4px;
							}

							.mat-form-field-infix {
								.mat-form-field-label-wrapper {
									label {
										top: 27px;

									}
								}
							}
						}
					}
				}
			}

			::ng-deep .mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
				transform: translateY(-20px) scale(0.75);
			}
		}
	}

	/* Outlined */
	.eq-m2o.edit.outline {
		&.small {
			.action {
				position: relative;
				top: -11px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 48px;
							max-height: 48px;

							.mat-form-field-infix {
								input {
									position: relative;
									top: -11px;
								}

								.mat-form-field-label-wrapper {
									label {
										top: 22px;
									}
								}
							}

							.mat-form-field-suffix {
								top: -2px;
							}
						}
					}
				}
			}

			::ng-deep .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
				transform: translateY(-20px) scale(0.75);
			}
		}

		&.normal {
			.action {
				position: relative;
				top: -7px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 56px;
							max-height: 56px;

							.mat-form-field-infix {
								input {
									position: relative;
									top: -7px;
								}

								.mat-form-field-label-wrapper {
									label {
										top: 27px;
									}
								}
							}

							.mat-form-field-suffix {
								top: 1px;
							}
						}
					}
				}
			}

			::ng-deep .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
				transform: translateY(-25px) scale(0.75);
			}
		}

		&.large {
			.action {
				position: relative;
				top: -5px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 64px;
							max-height: 64px;

							.mat-form-field-infix {
								input {
									position: relative;
									top: -3px;
								}

								.mat-form-field-label-wrapper {
									label {
										top: 30px;
									}
								}
							}

							.mat-form-field-suffix {
								top: 4px;
							}
						}
					}
				}
			}

			::ng-deep .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
				transform: translateY(-28px) scale(0.75);
			}
		}

		&.extra {
			.action {
				position: relative;
				top: -4px;
			}

			mat-form-field {
				&::ng-deep {
					.mat-form-field-wrapper {
						.mat-form-field-flex {
							height: 74px;
							max-height: 74px;

							.mat-form-field-infix {
								input {
									/* not needed */
								}

								.mat-form-field-label-wrapper {
									label {
										top: 35px;
									}
								}
							}

							.mat-form-field-suffix {
								/* not needed */
							}
						}
					}
				}
			}

			::ng-deep .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
				transform: translateY(-33px) scale(0.75);
			}
		}
	}

	/* View Mode and appearance */
	/* Filled */
	.eq-m2o.view.fill {
		&.small .text span {
			top: 19px;
		}

		&.normal .text span {
			top: 26px;
		}

		&.large .text span {
			top: 24px;
		}

		&.extra .text span {
			top: 23px;
		}
	}

	/* Outlined */
	.eq-m2o.view.outline {
		&.small .text span {
			top: 15px;
		}

		&.normal .text span {
			top: 19px;
		}

		&.large .text span {
			top: 20px;
		}

		&.extra .text span {
			top: 23px;
		}
	}

}
